<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>MTG Web Companion</title>
  
  <link rel="icon" type="image/png" href="../dist/img/logo-ct.png">
  <link href="https://cdn.jsdelivr.net/npm/keyrune@latest/css/keyrune.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/mana-font@latest/css/mana.css" rel="stylesheet" type="text/css" />

  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900|Roboto+Slab:400,700" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <link id="pagestyle" href="../dist/css/material-dashboard.css?v=3.0.0" rel="stylesheet" />
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.4/css/jquery.dataTables.min.css"/>
  <link href="https://cdn.jsdelivr.net/npm/keyrune@latest/css/keyrune.css" rel="stylesheet" type="text/css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css" rel="stylesheet" type="text/css">
  



  
  <link href="https://unpkg.com/@trevoreyre/autocomplete-js/dist/style.css" rel="stylesheet" />
 
  <script src="//unpkg.com/@trevoreyre/autocomplete-js"></script>    

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.10.2/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/1.5.5/perfect-scrollbar.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scrollbar/8.7.4/smooth-scrollbar.min.js"></script>
  
  <script src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/plug-ins/1.10.19/api/sum().js"></script>
  <script src="../dist/js/rest-server.js"></script>
  <script src="../dist/js/js-var.js"></script>
  <script src="../dist/js/mtgcompanion-ui.js"></script>



  <script>
 
	$(document).ready(function() {
			
		
		 var source = $_GET('type')=='CARD' ? "stock":"sealed";
			
		
			$("#sidenav-main" ).load("inc/menu.html" );
			$("#navbarBlur").load("inc/nav.html",function(){
					$("[name='categTitle']").html("Stock");
					
					if(source=="stock")
					{
						$("#menuStocks").addClass("bg-gradient-primary");
						$("#menuStocks").addClass("active");
					}
					else
					{
						$("#menuSealeds").addClass("bg-gradient-primary");
						$("#menuSealeds").addClass("active");
					}
			});
			
			$("#navfooter").load("inc/footer.html");
			$("#settingPanel").load("inc/settingPanel.html");
			
			
			
			$.get(restserver+"/collections/list",function(data){
				
				 for(var i=0;i<data.length;i++)
   				 {
   				 	$("#productCollection").append("<option value='"+data[i].name+"'>"+data[i].name+"</option>")
   				 }
			});
			
			
			$.get(restserver+"/stock/conditions",function(data){
				
				 for(var i=0;i<data.length;i++)
  				 {
  				 	$("#productCondition").append("<option value='"+data[i]+"'>"+data[i]+"</option>")
  				 }
			});
			
			
			$.get(restserver+"/"+source+"/get/"+$_GET('id'),function(data){
				
				$("#productImage").attr("src",data.url);
				$("#productTitle").html(data.product.name);
				$("#productPrice").val(data.price.toFixed(2));
				$("#productQty").val(data.qte);
				$("#productEdition").html(data.edition.set);
				$("#productCollection").val(data.magicCollection.name).change();
				$("#productCondition").val(data.condition).change();
				
				
				$("#productLangage").val(data.language).change();
				
				if(data.qte>2)
				{
					$("#instock").html("In Stock")
					$("#instock").addClass("badge-success")	
				}
				else if(data.qte<=0)
				{
					$("#instock").html("Out of  stock")
					$("#instock").addClass("badge-danger")	
				}
				else if(data.qte<=1)
				{
					$("#instock").html("Low in stock")
					$("#instock").addClass("badge-warning")	
				}	
				
				
			});
			
			
			
	});
 </script>
</head>


<body class="g-sidenav-show  bg-gray-200">
	<aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start menu-left bg-gradient-dark" id="sidenav-main"></aside>
  	<main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">
	<nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl" id="navbarBlur" navbar-scroll="true"></nav>
   
    <div class="container-fluid py-4">
    


	<div class="col-12">
          <div class="card">
            <div class="card-body">
              <h5 class="mb-4">Product Details</h5>
              

	<div class="row">
		<div class="col-xl-5 col-lg-6 text-center">
			<img class="border-radius-lg shadow-lg mx-auto img-fluid img-responsive" src="" alt="" id="productImage">
		</div>
	
	
		<div class="col-lg-5 mx-auto">
			<h3 class="mt-lg-0 mt-4" id="productTitle"></h3>
			<h4 id='productEdition'></h4>
			<br>
			<h6 class="mb-0 mt-3"><i class="fa-solid fa-money-bill-wave"></i>Price</h6>
			<input type="number" value="" min="0" step="0.1" class="form-control" id="productPrice"/>   
			
			<h6 class="mb-0 mt-3"><i class="fa-solid fa-cubes-stacked"></i>Stock</h6>
			<span class="badge badge-success" id='instock'>In Stock</span>
			
			<h6 class="mb-0 mt-3"><i class="fa-solid fa-book-bookmark"></i>Collection</h6>
			<select class="form-select" id='productCollection'></select>
			
				<div class="row mt-4">
					<div class="col-lg-2">
						<h6 class="mb-0 mt-3"><i class="fa-solid fa-cubes"></i>Quantity</h6>
							<input type="number" value="" min="0" max="100" step="1" class="form-control" id="productQty"/>   
					</div>
					<div class="col-lg-2">
						<h6 class="mb-0 mt-3"><i class="fa-solid fa-gem"></i>Quality</h6>
							<select class="form-select" id='productCondition'></select>
					</div>
					<div class="col-lg-2">
						<h6 class="mb-0 mt-3"><i class="fa-solid fa-language"></i>Lang</h6>
							<select class="form-select" id='productLangage'>
									  <option value="German">Deutsch</option>
								      <option value="English">English</option>
								      <option value="French">Fran√ßais</option>
								      <option value="Italian">Italiano</option>
							</select>
					</div>
				</div>
				<br/>
				<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Save</button>
		</div>
	
	
	
	
	</div>
	</div>
	
	</div>
	</div>
	</div>



	</div>

  </main>
  <div class="fixed-plugin">
    <a class="fixed-plugin-button text-dark position-fixed px-3 py-2">
      <i class="material-icons py-2">settings</i>
    </a>
    <div class="card shadow-lg" id="settingPanel">
      
    </div>
  </div>
 
  
   <script src="../dist/js/material-dashboard.js?v=3.0.0"></script>

 
</body>

</html>	
	
	
	